function initCourseSlider(){$("#course-slider").owlCarousel({loop:!0,margin:20,nav:!1,responsive:{600:{items:3},0:{items:1}}})}function resizeIndexWorkflow(e){if($(window).width()<976)return!1;var t=parseInt(e.outerHeight()),n=(parseInt(e.outerWidth()),parseInt(e.attr("data-height"))),i=(parseInt(e.attr("data-width")),parseFloat(n/t));e.find(".index-workflow-baloon").each(function(e,t){var n=parseInt($(t).attr("data-left")),a=parseInt($(t).attr("data-top")),o=n/i,r=a/i;$(t).css("left",o+"px"),$(t).css("top",r+"px")})}function closePopups(e){e.find(".index-workflow-popup").fadeOut(256,function(){e.find(".index-workflow__popups").removeClass("index-workflow__popups--active"),setTimeout(function(){e.find(".index-workflow__baloons").css("z-index",1)},200)})}function initIndexWorkflow(){var e=$(".index-workflow");if(1==e.length){resizeIndexWorkflow(e);var t;$(window).resize(function(n){t&&clearTimeout(t),t=setTimeout(function(){resizeIndexWorkflow(e)},100)}),e.find(".index-workflow-baloon[data-id]").click(function(t){var n=$(this),i=n.attr("data-id"),a=parseInt(e.outerHeight()),o=parseInt(e.outerWidth());e.find(".index-workflow-popup[data-id]").fadeOut();var r=e.find('.index-workflow-popup[data-id="'+i+'"]');if(1==r.length){r.fadeIn();var s=parseInt(r.outerHeight()),l=parseInt(r.outerWidth());r.css("left",o/2-l/2),r.css("top",a/2-s/2)}e.find(".index-workflow__baloons").css("z-index",0),e.find(".index-workflow__popups").addClass("index-workflow__popups--active")}),e.click(function(t){"index-workflow__baloons"!=t.target.id&&"index-workflow__popups"!=t.target.id||closePopups(e)}),e.find(".index-workflow-popup__close").click(function(t){closePopups(e)})}}function initContactsMap(){if("object"!=typeof window.google||null===window.google||"object"!=typeof window.google.maps||null===window.google.maps)return!1;var e="#contacts-map",t={lat:57.6127964,lng:39.9135285},n=document.querySelector(e);if("object"!=typeof n||null===n)return!1;var i=n.getAttribute("data-lat"),a=n.getAttribute("data-lng");null!==i&&null!==a&&(t.lat=parseFloat(i),t.lng=parseFloat(a));var o={zoom:17,scrollwheel:!1,navigationControl:!0,mapTypeControl:!1,scaleControl:!1,center:new google.maps.LatLng(t.lat,t.lng)},r=new google.maps.Map(n,o),s="Легенда",l=new google.maps.LatLng(t.lat,t.lng),d=new google.maps.InfoWindow({content:s}),c=new google.maps.Marker({position:l,map:r,optimized:!1});google.maps.event.addListener(c,"click",function(){d.open(r,c)})}function initPlacesMap(){if(!googleApiAvailable())return!1;var e="#places-map",t={lat:54.0001,lng:55.0001},n=document.querySelector(e);if("object"!=typeof n||null===n)return!1;var i=n.getAttribute("data-lat"),a=n.getAttribute("data-lng");null!==i&&null!==a&&(t.lat=parseFloat(i),t.lng=parseFloat(a));var o={zoom:10,scrollwheel:!1,navigationControl:!0,mapTypeControl:!1,scaleControl:!1,center:new google.maps.LatLng(t.lat,t.lng)},r=new google.maps.Map(n,o);if("legendaPlaces"in window&&"object"==typeof window.legendaPlaces&&null!==window.legendaPlaces){var s=new google.maps.InfoWindow,l=0,d=0;for(var c in window.legendaPlaces){var u=window.legendaPlaces[c];l+=parseFloat(u.lat/window.legendaPlaces.length),d+=parseFloat(u.lng/window.legendaPlaces.length);var p=new google.maps.LatLng(parseFloat(u.lat),parseFloat(u.lng)),f=new google.maps.Marker({position:p,map:r,optimized:!1});google.maps.event.addListener(f,"click",function(e,t){return function(){s.setContent(window.legendaPlaces[t].title),s.setOptions({maxWidth:256}),s.open(r,e)}}(f,c))}var h=new google.maps.LatLng(l,d);r.setCenter(h)}}function initPlacesControls(){var e=$(".places-info");1==e.length&&$(e).on("click","[data-placesviewmode]",function(t){var n="places-info__places-mode--active";switch(e.find("[data-placesviewmode]").removeClass(n),$(this).addClass(n),$(this).attr("data-placesviewmode")){case"map":$("#places-list").fadeOut(100,function(){$("#places-map").fadeIn()});break;case"list":$("#places-map").fadeOut(100,function(){$("#places-list").fadeIn()})}})}function googleApiAvailable(){return"object"==typeof window.google&&null!==window.google&&"object"==typeof window.google.maps&&null!==window.google.maps}function initInstagramSlider(){var e=$("#instagram-slider");e.owlCarousel({loop:!0,margin:0,nav:!1,responsive:{0:{items:1}}}),$(".instagram-slider__right").click(function(t){e.trigger("next.owl.carousel")}),$(".instagram-slider__left").click(function(t){e.trigger("prev.owl.carousel",[300])})}function isMobile(){return parseInt($(window).outerWidth())<600}function isTablet(){return parseInt($(window).outerWidth())<993}function initElementsSameHeight(e){$(window).outerWidth();if($(e).css("height","auto"),isTablet())$(e).css("height","auto");else{var t=0;$.each($(e),function(e,n){t=$(n).outerHeight()>t?$(n).outerHeight():t}),$(e).css("height",t)}}function initModals(){$("[data-open-modal]").click(function(e){var t=$(this),n=t.attr("data-open-modal"),i={hashTracking:!1},a=$('[data-modal-name="'+n+'"]').remodal(i);if("object"==typeof a&&null!==a){if(a.open(),e.preventDefault(),"schedule-group"==n){var o=t.parents(".course-group");if(1==o.length){var r=$(o).find('[data-group-info="coursetitle"]').text(),s=$(o).find('[data-group-info="startdate"]').text(),l=$(o).find('[data-group-info="period"]').text(),d=$(o).find('[data-group-info="place"]').text();$("#schedule-group-form-wrapper").find('input[name="coursetitle"]').val(r),$("#schedule-group-form-wrapper").find('input[name="startdate"]').val(s),$("#schedule-group-form-wrapper").find('input[name="period"]').val(l),$("#schedule-group-form-wrapper").find('input[name="place"]').val(d);var c=$(o).find(".course-group-info1").clone();$("#schedule-group-form-wrapper .course-group-info1").html(c)}}else if("course-group"==n){var u=t.parents(".course-group");if(1==u.length){var r=$(u).find('[data-group-info="coursetitle"]').text(),s=$(u).find('[data-group-info="startdate"]').text(),l=$(u).find('[data-group-info="period"]').text(),d=$(u).find('[data-group-info="place"]').text();$("#course-group-form-wrapper").find('input[name="coursetitle"]').val(r),$("#course-group-form-wrapper").find('input[name="startdate"]').val(s),$("#course-group-form-wrapper").find('input[name="period"]').val(l),$("#course-group-form-wrapper").find('input[name="place"]').val(d);var c=$(u).find(".course-group-info1").clone();$("#course-group-form-wrapper .course-group-info1").html(c)}}}else console.log("I cant open modal "+n);e.preventDefault()})}function initAjaxModals(){initModals();var e={debug:!1,hasErrorInputClass:"schedule-group-form__input--invalid",hasErrorLabelClass:"schedule-group-form__label--invalid",hideFormOnSuccess:!1};$("#schedule-group-form-wrapper").quasiform(e)}function initNavigation(){$(window).resize(function(){autoToggleMenu()}),$("#header__navigation-toggle").click(function(e){var t=$(this),n=$(".header__navigation");1==n.length&&(n.hasClass("header__navigation--collapsed")?n.removeClass("header__navigation--collapsed"):n.addClass("header__navigation--collapsed")),$(t).attr("data-clicked",1)}),$("#index-header__navigation-toggle").click(function(e){var t=$(this),n=$(".index-header__navigation");1==n.length&&(n.hasClass("index-header__navigation--collapsed")?n.removeClass("index-header__navigation--collapsed"):n.addClass("index-header__navigation--collapsed")),$(t).attr("data-clicked",1)})}function isMobileNavigation(){return parseInt($(window).outerWidth())<=720}function autoToggleMenu(){var e,t;if(e=$("#header__navigation-toggle"),1==e.length)if(t=1==parseInt(e.attr("data-clicked")),isMobileNavigation())$(".header__navigation-toggle-wrapper").show(),t||$(".header__navigation").addClass("header__navigation--collapsed");else{$(".header__navigation-toggle-wrapper").hide();var n=$(".header__navigation");t||1!=n.length||n.removeClass("header__navigation--collapsed")}if(e=$("#index-header__navigation-toggle"),1==e.length)if(t=1==parseInt(e.attr("data-clicked")),isMobileNavigation())$(".index-header__navigation-toggle-wrapper").show(),t||$(".index-header__navigation").addClass("index-header__navigation--collapsed");else{$(".index-header__navigation-toggle-wrapper").hide();var n=$(".index-header__navigation");t||1!=n.length||n.removeClass("index-header__navigation--collapsed")}}function sendScheduleSearch(){$(".schedule-groups-filter__loader").fadeIn(50);var e=$(".schedule-groups-filter__form"),t=$(e).attr("action"),n=new FormData($(e)[0]);$.ajax({contentType:!1,processData:!1,data:n,type:"POST",url:t,complete:function(){$(".schedule-groups-filter__loader").fadeOut(50)},error:function(e,n,i){404==e.status?console.log("Ресурс "+t+" не найден"):500==e.status?console.log("Ошибка 500"):200==e.status?(console.log("Статус 200"),console.log("Невалидный JSON")):console.log("Ошибка "+e.status)},success:function(e,t){$(".course-groups .row .col").remove(),e.length>10?($("#course-groups__empty").hide(),e=$(e),$(e).each(function(e,t){$(t).hide()}),$(".course-groups .row").html(e),$('.course-groups .row .col[data-process="1"]').fadeIn(),initElementsSameHeight('.course-groups .row .col[data-process="1"]')):$("#course-groups__empty").fadeIn(),initAjaxModals()}})}$(function(){initElementsSameHeight(".blog-item"),$(window).resize(function(e){initElementsSameHeight(".blog-item")})}),$(function(){var e=$(".brute-group-form");$(e).on("change",'input[name="children"]',function(t){var n=$(this);$(n).val()>0?$(e).find("[data-childage]").fadeIn(128):$(e).find("[data-childage]").fadeOut(128)}),1==e.length&&($(e).find("select").niceSelect(),$(e).on("change",'select[name="vehicletitle"]',function(t){var n=$(this).find("option:selected").attr("data-id");$(e).find(".brute-group-form__form-group[data-vehicle]").hide(),$(e).find('.brute-group-form__form-group[data-vehicle="'+n+'"]').show()}))}),$(function(){$(".course-item").length>0&&(initElementsSameHeight(".course-item"),$(window).resize(function(e){initElementsSameHeight(".course-item")}),$(".courses-categories-item__link").click(function(e){var t=$(this),n=parseInt(t.attr("data-id"));("number"!=typeof n||isNaN(n))&&(n=0);var a="courses-categories-item__link--active";$("."+a).removeClass(a),t.addClass(a);var o=$(".courses-items");if(1==o.length){var r=o.find("[data-categories]");r.fadeOut();var s=0;$(r).each(function(e,t){var t=$(t),a=t.attr("data-categories"),o=a.split("||"),r=!1;for(i=0;i<o.length;i++)if(o[i]==n||0==n){r=!0,s++;break}r?t.fadeIn():t.hide()}),s>0?($("#courses-items__empty").hide(),initElementsSameHeight(".course-item")):$("#courses-items__empty").fadeIn()}e.preventDefault()}))}),$(function(){var e=$(".course-group-form");$(e).on("change",'input[name="children"]',function(t){var n=$(this);$(n).val()>0?$(e).find("[data-childage]").fadeIn(128):$(e).find("[data-childage]").fadeOut(128)})}),$(function(){initElementsSameHeight(".course-group"),$(window).resize(function(e){initElementsSameHeight(".course-group")});var e=$(".course-groups");if(1==e.length){e.find('[data-process="1"]').length>0?$("#course-groups__empty").hide():$("#course-groups__empty").fadeIn(),$(".course-groups-types-item__link").click(function(t){var n=$(this),i=parseInt(n.attr("data-process"));("number"!=typeof i||isNaN(i))&&(i=0);var a="course-groups-types-item__link--active";$("."+a).removeClass(a),n.addClass(a);var o=e.find("[data-process]");o.fadeOut();var r=0;$(o).each(function(e,t){var t=$(t);t.attr("data-process")==i?(t.fadeIn(),r++):t.hide()}),r>0?$("#course-groups__empty").hide():$("#course-groups__empty").fadeIn(),t.preventDefault()})}}),$(function(){initCourseSlider()}),$(function(){initElementsSameHeight(".extreme-show-item"),$(window).resize(function(e){initElementsSameHeight(".extreme-show-item")})}),$(function(){$("#order-call-form-wrapper").quasiform({debug:!1,hasErrorInputClass:"order-call-form__input--invalid",hasErrorLabelClass:"order-call-form__label--invalid",hideFormOnSuccess:!1}),$("#cert-form-wrapper").quasiform({debug:!1,hasErrorInputClass:"order-call-form__input--invalid",hasErrorLabelClass:"order-call-form__label--invalid",hideFormOnSuccess:!1}),$("#contacts-feedback-form").quasiform({debug:!1,hasErrorInputClass:"order-call-form__input--invalid",hasErrorLabelClass:"order-call-form__label--invalid",hideFormOnSuccess:!1}),$("#team-hiring-form-wrapper").quasiform({debug:!1,hasErrorInputClass:"team-hiring-form__input--invalid",hasErrorLabelClass:"team-hiring-form__label--invalid",hideFormOnSuccess:!1}),$("#extreme-feedback-form").quasiform({debug:!1,hasErrorInputClass:"extreme-feedback-form__input--invalid",hasErrorLabelClass:"extreme-feedback-form__label--invalid",hideFormOnSuccess:!1}),$("#brute-group-form-wrapper").quasiform({debug:!1,hasErrorInputClass:"brute-group-form__input--invalid",hasErrorLabelClass:"brute-group-form__label--invalid",hideFormOnSuccess:!1}),$("#course-group-form-wrapper").quasiform({debug:!1,hasErrorInputClass:"course-group-form__input--invalid",hasErrorLabelClass:"course-group-form__label--invalid",hideFormOnSuccess:!1}),$("#openlesson-form-wrapper").quasiform({debug:!1,hasErrorInputClass:"openlesson-form__input--invalid",hasErrorLabelClass:"openlesson-form__label--invalid",hideFormOnSuccess:!1}),$("#testing-form-wrapper").quasiform({debug:!1,hasErrorInputClass:"testing-form__input--invalid",hasErrorLabelClass:"testing-form__label--invalid",hideFormOnSuccess:!1}),$("#individual-form-wrapper").quasiform({debug:!1,hasErrorInputClass:"individual-form__input--invalid",hasErrorLabelClass:"individual-form__label--invalid",hideFormOnSuccess:!1})}),function(e,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var n=this._events=this._events||{},i=n[e]=n[e]||[];return-1==i.indexOf(t)&&i.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var n=this._onceEvents=this._onceEvents||{};return(n[e]=n[e]||{})[t]=!0,this}},t.off=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var i=n.indexOf(t);return-1!=i&&n.splice(i,1),this}},t.emitEvent=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var i=0,a=n[i];t=t||[];for(var o=this._onceEvents&&this._onceEvents[e];a;){var r=o&&o[a];r&&(this.off(e,a),delete o[a]),a.apply(this,t),i+=r?0:1,a=n[i]}return this}},e}),function(e,t){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(n){return t(e,n)}):"object"==typeof module&&module.exports?module.exports=t(e,require("ev-emitter")):e.imagesLoaded=t(e,e.EvEmitter)}(window,function(e,t){function n(e,t){for(var n in t)e[n]=t[n];return e}function i(e){var t=[];if(Array.isArray(e))t=e;else if("number"==typeof e.length)for(var n=0;n<e.length;n++)t.push(e[n]);else t.push(e);return t}function a(e,t,o){return this instanceof a?("string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=i(e),this.options=n({},this.options),"function"==typeof t?o=t:n(this.options,t),o&&this.on("always",o),this.getImages(),s&&(this.jqDeferred=new s.Deferred),void setTimeout(function(){this.check()}.bind(this))):new a(e,t,o)}function o(e){this.img=e}function r(e,t){this.url=e,this.element=t,this.img=new Image}var s=e.jQuery,l=e.console;a.prototype=Object.create(t.prototype),a.prototype.options={},a.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},a.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&d[t]){for(var n=e.querySelectorAll("img"),i=0;i<n.length;i++){var a=n[i];this.addImage(a)}if("string"==typeof this.options.background){var o=e.querySelectorAll(this.options.background);for(i=0;i<o.length;i++){var r=o[i];this.addElementBackgroundImages(r)}}}};var d={1:!0,9:!0,11:!0};return a.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var n=/url\((['"])?(.*?)\1\)/gi,i=n.exec(t.backgroundImage);null!==i;){var a=i&&i[2];a&&this.addBackground(a,e),i=n.exec(t.backgroundImage)}},a.prototype.addImage=function(e){var t=new o(e);this.images.push(t)},a.prototype.addBackground=function(e,t){var n=new r(e,t);this.images.push(n)},a.prototype.check=function(){function e(e,n,i){setTimeout(function(){t.progress(e,n,i)})}var t=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(t){t.once("progress",e),t.check()}):void this.complete()},a.prototype.progress=function(e,t,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&l&&l.log("progress: "+n,e,t)},a.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},o.prototype=Object.create(t.prototype),o.prototype.check=function(){return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},o.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},o.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},o.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},o.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},o.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},o.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},r.prototype=Object.create(o.prototype),r.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},r.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},r.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},a.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&(s=t,s.fn.imagesLoaded=function(e,t){return new a(this,e,t).jqDeferred.promise(s(this))})},a.makeJQueryPlugin(),a}),$(function(){$(".index-test-item").length>0&&(initElementsSameHeight(".index-test-item__description"),initElementsSameHeight(".index-test-item"),$(window).resize(function(e){initElementsSameHeight(".index-test-item__description"),initElementsSameHeight(".index-test-item")}))}),$(function(){$(".index-workflow").imagesLoaded(function(){initIndexWorkflow()})}),$(function(){var e=$(".individual-form");$(e).on("change",'input[name="children"]',function(t){var n=$(this);$(n).val()>0?$(e).find("[data-childage]").fadeIn(128):$(e).find("[data-childage]").fadeOut(128)}),1==e.length&&($(e).find("select").niceSelect(),$(e).on("change",'select[name="vehicletitle"]',function(t){var n=$(this).find("option:selected").attr("data-id");$(e).find(".individual-form__form-group[data-vehicle]").hide(),$(e).find('.individual-form__form-group[data-vehicle="'+n+'"]').show()}))}),function(e){e.fn.niceSelect=function(t){function n(t){t.after(e("<div></div>").addClass("nice-select").addClass(t.attr("class")||"").addClass(t.attr("disabled")?"disabled":"").attr("tabindex",t.attr("disabled")?null:"0").html('<span class="current"></span><ul class="list"></ul>'));var n=t.next(),i=t.find("option"),a=t.find("option:selected");n.find(".current").html(a.data("display")||a.text()),i.each(function(t){var i=e(this),a=i.data("display");n.find("ul").append(e("<li></li>").attr("data-value",i.val()).attr("data-display",a||null).addClass("option"+(i.is(":selected")?" selected":"")+(i.is(":disabled")?" disabled":"")).html(i.text()))})}if("string"==typeof t)return"update"==t?this.each(function(){var t=e(this),i=e(this).next(".nice-select"),a=i.hasClass("open");i.length&&(i.remove(),n(t),a&&t.next().trigger("click"))}):"destroy"==t?(this.each(function(){var t=e(this),n=e(this).next(".nice-select");n.length&&(n.remove(),t.css("display",""))}),0==e(".nice-select").length&&e(document).off(".nice_select")):console.log('Method "'+t+'" does not exist.'),this;this.hide(),this.each(function(){var t=e(this);t.next().hasClass("nice-select")||n(t)}),e(document).off(".nice_select"),e(document).on("click.nice_select",".nice-select",function(t){var n=e(this);e(".nice-select").not(n).removeClass("open"),n.toggleClass("open"),n.hasClass("open")?(n.find(".option"),n.find(".focus").removeClass("focus"),n.find(".selected").addClass("focus")):n.focus()}),e(document).on("click.nice_select",function(t){0===e(t.target).closest(".nice-select").length&&e(".nice-select").removeClass("open").find(".option")}),e(document).on("click.nice_select",".nice-select .option:not(.disabled)",function(t){var n=e(this),i=n.closest(".nice-select");i.find(".selected").removeClass("selected"),n.addClass("selected");var a=n.data("display")||n.text();i.find(".current").text(a),i.prev("select").val(n.data("value")).trigger("change")}),e(document).on("keydown.nice_select",".nice-select",function(t){var n=e(this),i=e(n.find(".focus")||n.find(".list .option.selected"));if(32==t.keyCode||13==t.keyCode)return n.hasClass("open")?i.trigger("click"):n.trigger("click"),!1;if(40==t.keyCode){if(n.hasClass("open")){var a=i.nextAll(".option:not(.disabled)").first();a.length>0&&(n.find(".focus").removeClass("focus"),a.addClass("focus"))}else n.trigger("click");return!1}if(38==t.keyCode){if(n.hasClass("open")){var o=i.prevAll(".option:not(.disabled)").first();o.length>0&&(n.find(".focus").removeClass("focus"),o.addClass("focus"))}else n.trigger("click");return!1}if(27==t.keyCode)n.hasClass("open")&&n.trigger("click");else if(9==t.keyCode&&n.hasClass("open"))return!1});var i=document.createElement("a").style;return i.cssText="pointer-events:auto","auto"!==i.pointerEvents&&e("html").addClass("no-csspointerevents"),this}}(jQuery),console.log("https://quasi-art.ru"),window.debug="#debug"==window.location.hash,$(function(){initInstagramSlider(),initContactsMap(),initPlacesMap(),initPlacesControls(),initElementsSameHeight(".index-blog-item")}),$(function(){initModals()}),$(function(){initNavigation(),autoToggleMenu()}),$(function(){var e=$(".openlesson-form");1==e.length&&($(e).find("select").niceSelect(),$(e).on("change",'input[name="children"]',function(t){var n=$(this);$(n).val()>0?$(e).find("[data-childage]").fadeIn(128):$(e).find("[data-childage]").fadeOut(128)}))}),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(n){return t(e,n)}):"object"==typeof exports?t(e,require("jquery")):t(e,e.jQuery||e.Zepto)}(this,function(e,t){"use strict";function n(e){if(y&&"none"===e.css("animation-name")&&"none"===e.css("-webkit-animation-name")&&"none"===e.css("-moz-animation-name")&&"none"===e.css("-o-animation-name")&&"none"===e.css("-ms-animation-name"))return 0;var t,n,i,a,o=e.css("animation-duration")||e.css("-webkit-animation-duration")||e.css("-moz-animation-duration")||e.css("-o-animation-duration")||e.css("-ms-animation-duration")||"0s",r=e.css("animation-delay")||e.css("-webkit-animation-delay")||e.css("-moz-animation-delay")||e.css("-o-animation-delay")||e.css("-ms-animation-delay")||"0s",s=e.css("animation-iteration-count")||e.css("-webkit-animation-iteration-count")||e.css("-moz-animation-iteration-count")||e.css("-o-animation-iteration-count")||e.css("-ms-animation-iteration-count")||"1";for(o=o.split(", "),r=r.split(", "),s=s.split(", "),a=0,n=o.length,t=Number.NEGATIVE_INFINITY;a<n;a++)(i=parseFloat(o[a])*parseInt(s[a],10)+parseFloat(r[a]))>t&&(t=i);return t}function i(){if(t(document.body).height()<=t(window).height())return 0;var e,n,i=document.createElement("div"),a=document.createElement("div");return i.style.visibility="hidden",i.style.width="100px",document.body.appendChild(i),e=i.offsetWidth,i.style.overflow="scroll",a.style.width="100%",i.appendChild(a),n=a.offsetWidth,i.parentNode.removeChild(i),e-n}function a(){if(!b){var e,n,a=t("html"),o=c("is-locked");a.hasClass(o)||(n=t(document.body),e=parseInt(n.css("padding-right"),10)+i(),n.css("padding-right",e+"px"),a.addClass(o))}}function o(){if(!b){var e,n,a=t("html"),o=c("is-locked");a.hasClass(o)&&(n=t(document.body),e=parseInt(n.css("padding-right"),10)-i(),n.css("padding-right",e+"px"),a.removeClass(o))}}function r(e,t,n,i){var a=c("is",t),o=[c("is",_.CLOSING),c("is",_.OPENING),c("is",_.CLOSED),c("is",_.OPENED)].join(" ");e.$bg.removeClass(o).addClass(a),e.$overlay.removeClass(o).addClass(a),e.$wrapper.removeClass(o).addClass(a),e.$modal.removeClass(o).addClass(a),e.state=t,!n&&e.$modal.trigger({type:t,reason:i},[{reason:i}])}function s(e,i,a){var o=0,r=function(e){e.target===this&&o++},s=function(e){e.target===this&&0==--o&&(t.each(["$bg","$overlay","$wrapper","$modal"],function(e,t){a[t].off(v+" "+$)}),i())};t.each(["$bg","$overlay","$wrapper","$modal"],function(e,t){a[t].on(v,r).on($,s)}),e(),0===n(a.$bg)&&0===n(a.$overlay)&&0===n(a.$wrapper)&&0===n(a.$modal)&&(t.each(["$bg","$overlay","$wrapper","$modal"],function(e,t){a[t].off(v+" "+$)}),i())}function l(e){e.state!==_.CLOSED&&(t.each(["$bg","$overlay","$wrapper","$modal"],function(t,n){e[n].off(v+" "+$)}),e.$bg.removeClass(e.settings.modifier),e.$overlay.removeClass(e.settings.modifier).hide(),e.$wrapper.hide(),o(),r(e,_.CLOSED,!0))}function d(e){var t,n,i,a,o={};for(e=e.replace(/\s*:\s*/g,":").replace(/\s*,\s*/g,","),t=e.split(","),a=0,n=t.length;a<n;a++)t[a]=t[a].split(":"),i=t[a][1],("string"==typeof i||i instanceof String)&&(i="true"===i||"false"!==i&&i),("string"==typeof i||i instanceof String)&&(i=isNaN(i)?i:+i),o[t[a][0]]=i;return o}function c(){for(var e=m,t=0;t<arguments.length;++t)e+="-"+arguments[t];return e}function u(){var e,n,i=location.hash.replace("#","");if(i){try{n=t('[data-remodal-id="'+i+'"]')}catch(e){}n&&n.length&&(e=t[g].lookup[n.data(g)])&&e.settings.hashTracking&&e.open()}else f&&f.state===_.OPENED&&f.settings.hashTracking&&f.close()}function p(e,n){var i=t(document.body),a=i,o=this;o.settings=t.extend({},w,n),o.index=t[g].lookup.push(o)-1,o.state=_.CLOSED,o.$overlay=t("."+c("overlay")),null!==o.settings.appendTo&&o.settings.appendTo.length&&(a=t(o.settings.appendTo)),o.$overlay.length||(o.$overlay=t("<div>").addClass(c("overlay")+" "+c("is",_.CLOSED)).hide(),a.append(o.$overlay)),o.$bg=t("."+c("bg")).addClass(c("is",_.CLOSED)),o.$modal=e.addClass(m+" "+c("is-initialized")+" "+o.settings.modifier+" "+c("is",_.CLOSED)).attr("tabindex","-1"),o.$wrapper=t("<div>").addClass(c("wrapper")+" "+o.settings.modifier+" "+c("is",_.CLOSED)).hide().append(o.$modal),a.append(o.$wrapper),o.$wrapper.on("click."+m,'[data-remodal-action="close"]',function(e){e.preventDefault(),o.close()}),o.$wrapper.on("click."+m,'[data-remodal-action="cancel"]',function(e){e.preventDefault(),o.$modal.trigger(C.CANCELLATION),o.settings.closeOnCancel&&o.close(C.CANCELLATION)}),o.$wrapper.on("click."+m,'[data-remodal-action="confirm"]',function(e){e.preventDefault(),o.$modal.trigger(C.CONFIRMATION),o.settings.closeOnConfirm&&o.close(C.CONFIRMATION)}),o.$wrapper.on("click."+m,function(e){t(e.target).hasClass(c("wrapper"))&&o.settings.closeOnOutsideClick&&o.close()})}var f,h,g="remodal",m=e.REMODAL_GLOBALS&&e.REMODAL_GLOBALS.NAMESPACE||g,v=t.map(["animationstart","webkitAnimationStart","MSAnimationStart","oAnimationStart"],function(e){return e+"."+m}).join(" "),$=t.map(["animationend","webkitAnimationEnd","MSAnimationEnd","oAnimationEnd"],function(e){return e+"."+m}).join(" "),w=t.extend({hashTracking:!0,closeOnConfirm:!0,closeOnCancel:!0,closeOnEscape:!0,closeOnOutsideClick:!0,modifier:"",appendTo:null},e.REMODAL_GLOBALS&&e.REMODAL_GLOBALS.DEFAULTS),_={CLOSING:"closing",CLOSED:"closed",OPENING:"opening",OPENED:"opened"},C={CONFIRMATION:"confirmation",CANCELLATION:"cancellation"},y=function(){var e=document.createElement("div").style;return void 0!==e.animationName||void 0!==e.WebkitAnimationName||void 0!==e.MozAnimationName||void 0!==e.msAnimationName||void 0!==e.OAnimationName}(),b=/iPad|iPhone|iPod/.test(navigator.platform);p.prototype.open=function(){var e,n=this;n.state!==_.OPENING&&n.state!==_.CLOSING&&(e=n.$modal.attr("data-remodal-id"),e&&n.settings.hashTracking&&(h=t(window).scrollTop(),location.hash=e),f&&f!==n&&l(f),f=n,a(),n.$bg.addClass(n.settings.modifier),n.$overlay.addClass(n.settings.modifier).show(),n.$wrapper.show().scrollTop(0),n.$modal.focus(),s(function(){r(n,_.OPENING)},function(){r(n,_.OPENED)},n))},p.prototype.close=function(e){var n=this;n.state!==_.OPENING&&n.state!==_.CLOSING&&(n.settings.hashTracking&&n.$modal.attr("data-remodal-id")===location.hash.substr(1)&&(location.hash="",t(window).scrollTop(h)),s(function(){r(n,_.CLOSING,!1,e)},function(){n.$bg.removeClass(n.settings.modifier),n.$overlay.removeClass(n.settings.modifier).hide(),n.$wrapper.hide(),o(),r(n,_.CLOSED,!1,e)},n))},p.prototype.getState=function(){return this.state},p.prototype.destroy=function(){var e=t[g].lookup;l(this),this.$wrapper.remove(),delete e[this.index],0===t.grep(e,function(e){return!!e}).length&&(this.$overlay.remove(),this.$bg.removeClass(c("is",_.CLOSING)+" "+c("is",_.OPENING)+" "+c("is",_.CLOSED)+" "+c("is",_.OPENED)))},t[g]={lookup:[]},t.fn[g]=function(e){var n,i;return this.each(function(a,o){i=t(o),null==i.data(g)?(n=new p(i,e),i.data(g,n.index),n.settings.hashTracking&&i.attr("data-remodal-id")===location.hash.substr(1)&&n.open()):n=t[g].lookup[i.data(g)]}),n},t(document).ready(function(){t(document).on("click","[data-remodal-target]",function(e){e.preventDefault();var n=e.currentTarget,i=n.getAttribute("data-remodal-target"),a=t('[data-remodal-id="'+i+'"]');t[g].lookup[a.data(g)].open()}),t(document).find("."+m).each(function(e,n){var i=t(n),a=i.data("remodal-options");a?("string"==typeof a||a instanceof String)&&(a=d(a)):a={},i[g](a)}),t(document).on("keydown."+m,function(e){f&&f.settings.closeOnEscape&&f.state===_.OPENED&&27===e.keyCode&&f.close()}),t(window).on("hashchange."+m,u)})}),$(function(){var e=$(".schedule-groups-filter__form"),t=$(".schedule-group-form");$(t).on("change",'input[name="children"]',function(e){var n=$(this);$(n).val()>0?$(t).find("[data-childage]").fadeIn(128):$(t).find("[data-childage]").fadeOut(128)}),1==e.length&&($(".schedule-groups-filter__form select").niceSelect(),sendScheduleSearch(),$('.schedule-groups-filter__form select[name="vehicle"]').change(function(e){var t=$(this),n=parseInt(t.val());$(".schedule-groups-filter__form-group[data-vehicle]").hide(),$(".schedule-groups-filter__form-group[data-vehicle] select").attr("disabled",!0),$('.schedule-groups-filter__form-group[data-vehicle="'+n+'"]').show(),$('.schedule-groups-filter__form-group[data-vehicle="'+n+'"] select').removeAttr("disabled"),$('.schedule-groups-filter__form-group[data-vehicle="'+n+'"] select').niceSelect("update")}),$(".schedule-groups-filter__form select").change(function(e){sendScheduleSearch()}))}),$(function(){$(document).on("click",".spinner__increase",function(e){var t=$(this),n=$(t).parent(),i=parseInt($(n).attr("data-max")),a=$(n).find("input"),o=parseInt($(a).val()),r=parseInt($(n).attr("data-one")),s=1,l=o+r*s;l<=i&&($(a).val(l),$(a).change())}),$(document).on("click",".spinner__decrease",function(e){var t=$(this),n=$(t).parent(),i=parseInt($(n).attr("data-min")),a=(parseInt($(n).attr("data-max")),$(n).find("input")),o=parseInt($(a).val()),r=parseInt($(n).attr("data-one")),s=-1,l=o+r*s;l>=i&&($(a).val(l),$(a).change())})}),$(function(){var e=$('[data-spoiler="wrapper"]');$(e).each(function(e,t){var n=$(t),i=$(n).find('[data-spoiler="toggler"]'),a=$(n).find('[data-spoiler="content"]'),o=$(i).attr("data-class"),r=$(a).attr("data-class");$(i).on("click",function(e){$(a).hasClass(r)?($(i).removeClass(o),$(a).removeClass(r)):($(i).addClass(o),$(a).addClass(r))})})}),$(function(){initElementsSameHeight(".team-item__inner"),$(window).resize(function(e){initElementsSameHeight(".team-item__inner")})}),$(function(){var e=$(".testing-form");$(e).on("change",'input[name="children"]',function(t){var n=$(this);$(n).val()>0?$(e).find("[data-childage]").fadeIn(128):$(e).find("[data-childage]").fadeOut(128)}),1==e.length&&$(e).find("select").niceSelect()});