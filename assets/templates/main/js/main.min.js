function initBlogSameHeight(e){$(window).outerWidth();if($(e).css("height","auto"),isTablet())$(e).css("height","auto");else{var t=0;$.each($(e),function(e,i){t=$(i).outerHeight()>t?$(i).outerHeight():t}),$(e).css("height",t)}}function initCourseCategorySameHeight(e){$(window).outerWidth();if($(e).css("height","auto"),isTablet())$(e).css("height","auto");else{var t=0;$.each($(e),function(e,i){t=$(i).outerHeight()>t?$(i).outerHeight():t}),$(e).css("height",t)}}function initGroupSameHeight(e){$(window).outerWidth();if($(e).css("height","auto"),isTablet())$(e).css("height","auto");else{var t=0;$.each($(e),function(e,i){t=$(i).outerHeight()>t?$(i).outerHeight():t}),$(e).css("height",t)}}function initCourseSlider(){$("#course-slider").owlCarousel({loop:!0,margin:20,nav:!1,responsive:{600:{items:3},0:{items:1}}})}function initBlogSameHeight(e){$(window).outerWidth();if($(e).css("height","auto"),isTablet())$(e).css("height","auto");else{var t=0;$.each($(e),function(e,i){t=$(i).outerHeight()>t?$(i).outerHeight():t}),$(e).css("height",t)}}function initTeamSameHeight(e){$(window).outerWidth();if($(e).css("height","auto"),isTablet())$(e).css("height","auto");else{var t=0;$.each($(e),function(e,i){t=$(i).outerHeight()>t?$(i).outerHeight():t}),$(e).css("height",t)}}function resizeIndexWorkflow(e){var t=$(window).width();if(console.log("windowWidth: "+t),t<976)return console.log("I dont want to recalculate index-workflow"),!1;var i=parseInt(e.outerHeight()),n=(parseInt(e.outerWidth()),parseInt(e.attr("data-height"))),o=(parseInt(e.attr("data-width")),parseFloat(n/i));e.find(".index-workflow-baloon").each(function(e,t){var i=parseInt($(t).attr("data-left")),n=parseInt($(t).attr("data-top")),a=i/o,r=n/o;$(t).css("left",a+"px"),$(t).css("top",r+"px")})}function closePopups(e){e.find(".index-workflow-popup").fadeOut(256,function(){e.find(".index-workflow__popups").removeClass("index-workflow__popups--active"),setTimeout(function(){e.find(".index-workflow__baloons").css("z-index",1)},200)})}function initIndexWorkflow(){var e=$(".index-workflow");if(1==e.length){resizeIndexWorkflow(e);var t;$(window).resize(function(i){t&&clearTimeout(t),t=setTimeout(function(){resizeIndexWorkflow(e)},100)}),e.find(".index-workflow-baloon[data-id]").click(function(t){var i=$(this),n=i.attr("data-id"),o=parseInt(e.outerHeight()),a=parseInt(e.outerWidth());e.find(".index-workflow-popup[data-id]").fadeOut();var r=e.find('.index-workflow-popup[data-id="'+n+'"]');if(1==r.length){console.log("A"),r.fadeIn();var s=parseInt(r.outerHeight()),l=parseInt(r.outerWidth());r.css("left",a/2-l/2),r.css("top",o/2-s/2)}e.find(".index-workflow__baloons").css("z-index",0),e.find(".index-workflow__popups").addClass("index-workflow__popups--active")}),e.click(function(t){"index-workflow__baloons"!=t.target.id&&"index-workflow__popups"!=t.target.id||closePopups(e)}),e.find(".index-workflow-popup__close").click(function(t){closePopups(e)})}}function initContactsMap(){if("object"!=typeof window.google||null===window.google||"object"!=typeof window.google.maps||null===window.google.maps)return!1;var e="#contacts-map",t={lat:57.6127964,lng:39.9135285},i=document.querySelector(e);if("object"!=typeof i||null===i)return!1;var n=i.getAttribute("data-lat"),o=i.getAttribute("data-lng");null!==n&&null!==o&&(t.lat=parseFloat(n),t.lng=parseFloat(o));var a={zoom:17,scrollwheel:!1,navigationControl:!0,mapTypeControl:!1,scaleControl:!1,center:new google.maps.LatLng(t.lat,t.lng)},r=new google.maps.Map(i,a),s="Легенда",l=new google.maps.LatLng(t.lat,t.lng),d=new google.maps.InfoWindow({content:s}),c=new google.maps.Marker({position:l,map:r,optimized:!1});google.maps.event.addListener(c,"click",function(){d.open(r,c)})}function initPlacesMap(){if(!googleApiAvailable())return!1;var e="#places-map",t={lat:54.0001,lng:55.0001},i=document.querySelector(e);if("object"!=typeof i||null===i)return!1;var n=i.getAttribute("data-lat"),o=i.getAttribute("data-lng");null!==n&&null!==o&&(t.lat=parseFloat(n),t.lng=parseFloat(o));var a={zoom:10,scrollwheel:!1,navigationControl:!0,mapTypeControl:!1,scaleControl:!1,center:new google.maps.LatLng(t.lat,t.lng)},r=new google.maps.Map(i,a);if("legendaPlaces"in window&&"object"==typeof window.legendaPlaces&&null!==window.legendaPlaces){var s=new google.maps.InfoWindow,l=0,d=0;for(idx in window.legendaPlaces){var c=window.legendaPlaces[idx];l+=parseFloat(c.lat/window.legendaPlaces.length),d+=parseFloat(c.lng/window.legendaPlaces.length);var u=new google.maps.LatLng(parseFloat(c.lat),parseFloat(c.lng)),p=new google.maps.Marker({position:u,map:r,optimized:!1});google.maps.event.addListener(p,"click",function(e,t){return function(){s.setContent(window.legendaPlaces[t].title),s.setOptions({maxWidth:256}),s.open(r,e)}}(p,idx))}var h=new google.maps.LatLng(l,d);r.setCenter(h)}}function initPlacesControls(){var e=$(".places-info");1==e.length&&$(e).on("click","[data-placesviewmode]",function(t){var i="places-info__places-mode--active";switch(e.find("[data-placesviewmode]").removeClass(i),$(this).addClass(i),$(this).attr("data-placesviewmode")){case"map":$("#places-list").fadeOut(100,function(){$("#places-map").fadeIn()});break;case"list":$("#places-map").fadeOut(100,function(){$("#places-list").fadeIn()})}})}function googleApiAvailable(){return"object"==typeof window.google&&null!==window.google&&"object"==typeof window.google.maps&&null!==window.google.maps}function initInstagramSlider(){var e=$("#instagram-slider");e.owlCarousel({loop:!0,margin:0,nav:!1,responsive:{0:{items:1}}}),$(".instagram-slider__right").click(function(t){e.trigger("next.owl.carousel")}),$(".instagram-slider__left").click(function(t){e.trigger("prev.owl.carousel",[300])})}function isMobile(){return parseInt($(window).outerWidth())<600}function isTablet(){return parseInt($(window).outerWidth())<993}function initElementsSameHeight(e){$(window).outerWidth();if($(e).css("height","auto"),isTablet())$(e).css("height","auto");else{var t=0;$.each($(e),function(e,i){t=$(i).outerHeight()>t?$(i).outerHeight():t}),$(e).css("height",t)}}function initModals(){$("[data-open-modal]").click(function(e){var t=$(this),i=t.attr("data-open-modal");console.log("modal: "+i);var n={hashTracking:!1},o=$('[data-modal-name="'+i+'"]').remodal(n);if("object"==typeof o&&null!==o){if(o.open(),e.preventDefault(),"schedule-group"==i){var a=t.parents(".course-group");if(1==a.length){var r=$(a).find('[data-group-info="coursetitle"]').text(),s=$(a).find('[data-group-info="startdate"]').text(),l=$(a).find('[data-group-info="period"]').text(),d=$(a).find('[data-group-info="place"]').text();$("#schedule-group-form-wrapper").find('input[name="coursetitle"]').val(r),$("#schedule-group-form-wrapper").find('input[name="startdate"]').val(s),$("#schedule-group-form-wrapper").find('input[name="period"]').val(l),$("#schedule-group-form-wrapper").find('input[name="place"]').val(d);var c=$(a).find(".course-group-info1").clone();$("#schedule-group-form-wrapper .course-group-info1").html(c)}}else if("course-group"==i){var a=t.parents(".course-group");if(1==a.length){var r=$(a).find('[data-group-info="coursetitle"]').text(),s=$(a).find('[data-group-info="startdate"]').text(),l=$(a).find('[data-group-info="period"]').text(),d=$(a).find('[data-group-info="place"]').text();$("#course-group-form-wrapper").find('input[name="coursetitle"]').val(r),$("#course-group-form-wrapper").find('input[name="startdate"]').val(s),$("#course-group-form-wrapper").find('input[name="period"]').val(l),$("#course-group-form-wrapper").find('input[name="place"]').val(d);var c=$(a).find(".course-group-info1").clone();$("#course-group-form-wrapper .course-group-info1").html(c)}}}else console.log("I cant open modal "+i);e.preventDefault()})}function initAjaxModals(){initModals();var e={debug:!1,hasErrorInputClass:"schedule-group-form__input--invalid",hasErrorLabelClass:"schedule-group-form__label--invalid",hideFormOnSuccess:!1};$("#schedule-group-form-wrapper").quasiform(e)}function initNavigation(){$(window).resize(function(){autoToggleMenu()}),$("#header__navigation-toggle").click(function(e){var t=$(this),i=$(".header__navigation");1==i.length&&(i.hasClass("header__navigation--collapsed")?i.removeClass("header__navigation--collapsed"):i.addClass("header__navigation--collapsed")),$(t).attr("data-clicked",1)}),$("#index-header__navigation-toggle").click(function(e){var t=$(this),i=$(".index-header__navigation");1==i.length&&(i.hasClass("index-header__navigation--collapsed")?i.removeClass("index-header__navigation--collapsed"):i.addClass("index-header__navigation--collapsed")),$(t).attr("data-clicked",1)})}function isMobileNavigation(){return parseInt($(window).outerWidth())<=720}function autoToggleMenu(){var e=$("#header__navigation-toggle");if(1==e.length){var t=1==parseInt(e.attr("data-clicked"));if(isMobileNavigation())$(".header__navigation-toggle-wrapper").show(),t||$(".header__navigation").addClass("header__navigation--collapsed");else{$(".header__navigation-toggle-wrapper").hide();var i=$(".header__navigation");t||1!=i.length||i.removeClass("header__navigation--collapsed")}}var e=$("#index-header__navigation-toggle");if(1==e.length){var t=1==parseInt(e.attr("data-clicked"));if(isMobileNavigation())$(".index-header__navigation-toggle-wrapper").show(),t||$(".index-header__navigation").addClass("index-header__navigation--collapsed");else{$(".index-header__navigation-toggle-wrapper").hide();var i=$(".index-header__navigation");t||1!=i.length||i.removeClass("index-header__navigation--collapsed")}}}function sendScheduleSearch(){$(".schedule-groups-filter__loader").fadeIn(50);var e=$(".schedule-groups-filter__form"),t=$(e).attr("action"),i=new FormData($(e)[0]);$.ajax({contentType:!1,processData:!1,data:i,type:"POST",url:t,complete:function(){$(".schedule-groups-filter__loader").fadeOut(50)},error:function(e,i,n){404==e.status?console.log("Ресурс "+t+" не найден"):500==e.status?console.log("Ошибка 500"):200==e.status?(console.log("Статус 200"),console.log("Невалидный JSON")):console.log("Ошибка "+e.status)},success:function(e,t){$(".course-groups .row .col").remove(),e.length>10?($("#course-groups__empty").hide(),e=$(e),$(e).each(function(e,t){$(t).hide()}),$(".course-groups .row").html(e),$('.course-groups .row .col[data-process="1"]').fadeIn(),initScheduleGroupSameHeight('.course-groups .row .col[data-process="1"]')):$("#course-groups__empty").fadeIn(),initAjaxModals()}})}function initScheduleGroupSameHeight(e){$(window).outerWidth();if($(e).css("height","auto"),isTablet())$(e).css("height","auto");else{var t=0;$.each($(e),function(e,i){t=$(i).outerHeight()>t?$(i).outerHeight():t}),$(e).css("height",t)}}function initTeamSameHeight(e){$(window).outerWidth();if($(e).css("height","auto"),isTablet())$(e).css("height","auto");else{var t=0;$.each($(e),function(e,i){t=$(i).outerHeight()>t?$(i).outerHeight():t}),$(e).css("height",t)}}$(function(){initTeamSameHeight(".blog-item"),$(window).resize(function(e){initTeamSameHeight(".blog-item")})}),$(function(){var e=$(".brute-group-form");$(e).on("change",'input[name="children"]',function(t){var i=$(this);$(i).val()>0?$(e).find("[data-childage]").fadeIn(128):$(e).find("[data-childage]").fadeOut(128)}),1==e.length&&($(e).find("select").niceSelect(),$(e).on("change",'select[name="vehicletitle"]',function(t){var i=$(this).find("option:selected").attr("data-id");$(e).find(".brute-group-form__form-group[data-vehicle]").hide(),$(e).find('.brute-group-form__form-group[data-vehicle="'+i+'"]').show()}))}),$(function(){$(".course-item").length>0&&(initCourseCategorySameHeight(".course-item"),$(window).resize(function(e){initCourseCategorySameHeight(".course-item")}),$(".courses-categories-item__link").click(function(e){var t=$(this),n=parseInt(t.attr("data-id"));("number"!=typeof n||isNaN(n))&&(n=0);var o="courses-categories-item__link--active";$("."+o).removeClass(o),t.addClass(o);var a=$(".courses-items");if(1==a.length){var r=a.find("[data-categories]");r.fadeOut();var s=0;$(r).each(function(e,t){var t=$(t),o=t.attr("data-categories"),a=o.split("||"),r=!1;for(i=0;i<a.length;i++)if(a[i]==n||0==n){r=!0,s++;break}r?t.fadeIn():t.hide()}),s>0?($("#courses-items__empty").hide(),initCourseCategorySameHeight(".course-item")):$("#courses-items__empty").fadeIn()}e.preventDefault()}))}),$(function(){var e=$(".course-group-form");$(e).on("change",'input[name="children"]',function(t){var i=$(this);$(i).val()>0?$(e).find("[data-childage]").fadeIn(128):$(e).find("[data-childage]").fadeOut(128)})}),$(function(){initGroupSameHeight(".course-group"),$(window).resize(function(e){initGroupSameHeight(".course-group")});var e=$(".course-groups");if(1==e.length){var t=e.find('[data-process="1"]');console.debug(t),t.length>0?$("#course-groups__empty").hide():$("#course-groups__empty").fadeIn(),$(".course-groups-types-item__link").click(function(t){var i=$(this),n=parseInt(i.attr("data-process"));("number"!=typeof n||isNaN(n))&&(n=0);var o="course-groups-types-item__link--active";$("."+o).removeClass(o),i.addClass(o);var a=e.find("[data-process]");a.fadeOut();var r=0;$(a).each(function(e,t){var t=$(t);t.attr("data-process")==n?(t.fadeIn(),r++):t.hide()}),r>0?$("#course-groups__empty").hide():$("#course-groups__empty").fadeIn(),t.preventDefault()})}}),$(function(){initCourseSlider()}),$(function(){initTeamSameHeight(".extreme-show-item"),$(window).resize(function(e){initTeamSameHeight(".extreme-show-item")})}),$(function(){var e={debug:!1,hasErrorInputClass:"order-call-form__input--invalid",hasErrorLabelClass:"order-call-form__label--invalid",hideFormOnSuccess:!1},t=($("#order-call-form-wrapper").quasiform(e),{debug:!1,hasErrorInputClass:"order-call-form__input--invalid",hasErrorLabelClass:"order-call-form__label--invalid",hideFormOnSuccess:!1}),i=($("#cert-form-wrapper").quasiform(t),{debug:!1,hasErrorInputClass:"order-call-form__input--invalid",hasErrorLabelClass:"order-call-form__label--invalid",hideFormOnSuccess:!1}),n=($("#contacts-feedback-form").quasiform(i),{debug:!1,hasErrorInputClass:"team-hiring-form__input--invalid",hasErrorLabelClass:"team-hiring-form__label--invalid",hideFormOnSuccess:!1}),n=($("#team-hiring-form-wrapper").quasiform(n),{debug:!1,hasErrorInputClass:"extreme-feedback-form__input--invalid",hasErrorLabelClass:"extreme-feedback-form__label--invalid",hideFormOnSuccess:!1}),o=($("#extreme-feedback-form").quasiform(n),{debug:!1,hasErrorInputClass:"brute-group-form__input--invalid",hasErrorLabelClass:"brute-group-form__label--invalid",hideFormOnSuccess:!1}),a=($("#brute-group-form-wrapper").quasiform(o),{debug:!1,hasErrorInputClass:"course-group-form__input--invalid",hasErrorLabelClass:"course-group-form__label--invalid",hideFormOnSuccess:!1}),r=($("#course-group-form-wrapper").quasiform(a),{debug:!1,hasErrorInputClass:"openlesson-form__input--invalid",hasErrorLabelClass:"openlesson-form__label--invalid",hideFormOnSuccess:!1}),s=($("#openlesson-form-wrapper").quasiform(r),{debug:!1,hasErrorInputClass:"testing-form__input--invalid",hasErrorLabelClass:"testing-form__label--invalid",hideFormOnSuccess:!1}),l=($("#testing-form-wrapper").quasiform(s),{debug:!1,hasErrorInputClass:"individual-form__input--invalid",hasErrorLabelClass:"individual-form__label--invalid",hideFormOnSuccess:!1});$("#individual-form-wrapper").quasiform(l)}),!function(e,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var i=this._events=this._events||{},n=i[e]=i[e]||[];return-1==n.indexOf(t)&&n.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var i=this._onceEvents=this._onceEvents||{};return(i[e]=i[e]||{})[t]=!0,this}},t.off=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){var n=i.indexOf(t);return-1!=n&&i.splice(n,1),this}},t.emitEvent=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){var n=0,o=i[n];t=t||[];for(var a=this._onceEvents&&this._onceEvents[e];o;){var r=a&&a[o];r&&(this.off(e,o),delete a[o]),o.apply(this,t),n+=r?0:1,o=i[n]}return this}},e}),function(e,t){"use strict";"function"==typeof define&&define.amd?define(["ev-emitter/ev-emitter"],function(i){return t(e,i)}):"object"==typeof module&&module.exports?module.exports=t(e,require("ev-emitter")):e.imagesLoaded=t(e,e.EvEmitter)}(window,function(e,t){function i(e,t){for(var i in t)e[i]=t[i];return e}function n(e){var t=[];if(Array.isArray(e))t=e;else if("number"==typeof e.length)for(var i=0;i<e.length;i++)t.push(e[i]);else t.push(e);return t}function o(e,t,a){return this instanceof o?("string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=n(e),this.options=i({},this.options),"function"==typeof t?a=t:i(this.options,t),a&&this.on("always",a),this.getImages(),s&&(this.jqDeferred=new s.Deferred),void setTimeout(function(){this.check()}.bind(this))):new o(e,t,a)}function a(e){this.img=e}function r(e,t){this.url=e,this.element=t,this.img=new Image}var s=e.jQuery,l=e.console;o.prototype=Object.create(t.prototype),o.prototype.options={},o.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},o.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),this.options.background===!0&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&d[t]){for(var i=e.querySelectorAll("img"),n=0;n<i.length;n++){var o=i[n];this.addImage(o)}if("string"==typeof this.options.background){var a=e.querySelectorAll(this.options.background);for(n=0;n<a.length;n++){var r=a[n];this.addElementBackgroundImages(r)}}}};var d={1:!0,9:!0,11:!0};return o.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(t.backgroundImage);null!==n;){var o=n&&n[2];o&&this.addBackground(o,e),n=i.exec(t.backgroundImage)}},o.prototype.addImage=function(e){var t=new a(e);this.images.push(t)},o.prototype.addBackground=function(e,t){var i=new r(e,t);this.images.push(i)},o.prototype.check=function(){function e(e,i,n){setTimeout(function(){t.progress(e,i,n)})}var t=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach(function(t){t.once("progress",e),t.check()}):void this.complete()},o.prototype.progress=function(e,t,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&l&&l.log("progress: "+i,e,t)},o.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},a.prototype=Object.create(t.prototype),a.prototype.check=function(){return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},a.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},a.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},a.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},a.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},a.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},a.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},r.prototype=Object.create(a.prototype),r.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},r.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},r.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},o.makeJQueryPlugin=function(t){t=t||e.jQuery,t&&(s=t,s.fn.imagesLoaded=function(e,t){return new o(this,e,t).jqDeferred.promise(s(this))})},o.makeJQueryPlugin(),o}),$(function(){$(".index-test-item").length>0&&(initTeamSameHeight(".index-test-item__description"),initTeamSameHeight(".index-test-item"),$(window).resize(function(e){initTeamSameHeight(".index-test-item__description"),initTeamSameHeight(".index-test-item")}))}),$(function(){$(".index-workflow").imagesLoaded(function(){initIndexWorkflow()})}),$(function(){var e=$(".individual-form");$(e).on("change",'input[name="children"]',function(t){var i=$(this);$(i).val()>0?$(e).find("[data-childage]").fadeIn(128):$(e).find("[data-childage]").fadeOut(128)}),1==e.length&&($(e).find("select").niceSelect(),$(e).on("change",'select[name="vehicletitle"]',function(t){var i=$(this).find("option:selected").attr("data-id");$(e).find(".individual-form__form-group[data-vehicle]").hide(),$(e).find('.individual-form__form-group[data-vehicle="'+i+'"]').show()}))}),function(e){e.fn.niceSelect=function(t){function i(t){t.after(e("<div></div>").addClass("nice-select").addClass(t.attr("class")||"").addClass(t.attr("disabled")?"disabled":"").attr("tabindex",t.attr("disabled")?null:"0").html('<span class="current"></span><ul class="list"></ul>'));var i=t.next(),n=t.find("option"),o=t.find("option:selected");i.find(".current").html(o.data("display")||o.text()),n.each(function(t){var n=e(this),o=n.data("display");i.find("ul").append(e("<li></li>").attr("data-value",n.val()).attr("data-display",o||null).addClass("option"+(n.is(":selected")?" selected":"")+(n.is(":disabled")?" disabled":"")).html(n.text()))})}if("string"==typeof t)return"update"==t?this.each(function(){var t=e(this),n=e(this).next(".nice-select"),o=n.hasClass("open");n.length&&(n.remove(),i(t),o&&t.next().trigger("click"))}):"destroy"==t?(this.each(function(){var t=e(this),i=e(this).next(".nice-select");i.length&&(i.remove(),t.css("display",""))}),0==e(".nice-select").length&&e(document).off(".nice_select")):console.log('Method "'+t+'" does not exist.'),this;this.hide(),this.each(function(){var t=e(this);t.next().hasClass("nice-select")||i(t)}),e(document).off(".nice_select"),e(document).on("click.nice_select",".nice-select",function(t){var i=e(this);e(".nice-select").not(i).removeClass("open"),i.toggleClass("open"),i.hasClass("open")?(i.find(".option"),i.find(".focus").removeClass("focus"),i.find(".selected").addClass("focus")):i.focus()}),e(document).on("click.nice_select",function(t){0===e(t.target).closest(".nice-select").length&&e(".nice-select").removeClass("open").find(".option")}),e(document).on("click.nice_select",".nice-select .option:not(.disabled)",function(t){var i=e(this),n=i.closest(".nice-select");n.find(".selected").removeClass("selected"),i.addClass("selected");var o=i.data("display")||i.text();n.find(".current").text(o),n.prev("select").val(i.data("value")).trigger("change")}),e(document).on("keydown.nice_select",".nice-select",function(t){var i=e(this),n=e(i.find(".focus")||i.find(".list .option.selected"));if(32==t.keyCode||13==t.keyCode)return i.hasClass("open")?n.trigger("click"):i.trigger("click"),!1;if(40==t.keyCode){if(i.hasClass("open")){var o=n.nextAll(".option:not(.disabled)").first();o.length>0&&(i.find(".focus").removeClass("focus"),o.addClass("focus"))}else i.trigger("click");return!1}if(38==t.keyCode){if(i.hasClass("open")){var a=n.prevAll(".option:not(.disabled)").first();a.length>0&&(i.find(".focus").removeClass("focus"),a.addClass("focus"))}else i.trigger("click");return!1}if(27==t.keyCode)i.hasClass("open")&&i.trigger("click");else if(9==t.keyCode&&i.hasClass("open"))return!1});var n=document.createElement("a").style;return n.cssText="pointer-events:auto","auto"!==n.pointerEvents&&e("html").addClass("no-csspointerevents"),this}}(jQuery),console.log("https://quasi-art.ru"),window.debug="#debug"==window.location.hash,$(function(){initInstagramSlider(),initContactsMap(),initPlacesMap(),initPlacesControls(),initElementsSameHeight(".index-blog-item")}),$(function(){initModals()}),$(function(){initNavigation(),autoToggleMenu()}),$(function(){var e=$(".openlesson-form");1==e.length&&($(e).find("select").niceSelect(),$(e).on("change",'input[name="children"]',function(t){var i=$(this);$(i).val()>0?$(e).find("[data-childage]").fadeIn(128):$(e).find("[data-childage]").fadeOut(128)}))}),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(i){return t(e,i)}):"object"==typeof exports?t(e,require("jquery")):t(e,e.jQuery||e.Zepto)}(this,function(e,t){"use strict";function i(e){if(y&&"none"===e.css("animation-name")&&"none"===e.css("-webkit-animation-name")&&"none"===e.css("-moz-animation-name")&&"none"===e.css("-o-animation-name")&&"none"===e.css("-ms-animation-name"))return 0;var t,i,n,o,a=e.css("animation-duration")||e.css("-webkit-animation-duration")||e.css("-moz-animation-duration")||e.css("-o-animation-duration")||e.css("-ms-animation-duration")||"0s",r=e.css("animation-delay")||e.css("-webkit-animation-delay")||e.css("-moz-animation-delay")||e.css("-o-animation-delay")||e.css("-ms-animation-delay")||"0s",s=e.css("animation-iteration-count")||e.css("-webkit-animation-iteration-count")||e.css("-moz-animation-iteration-count")||e.css("-o-animation-iteration-count")||e.css("-ms-animation-iteration-count")||"1";for(a=a.split(", "),r=r.split(", "),s=s.split(", "),o=0,i=a.length,t=Number.NEGATIVE_INFINITY;o<i;o++)n=parseFloat(a[o])*parseInt(s[o],10)+parseFloat(r[o]),n>t&&(t=n);return t}function n(){if(t(document.body).height()<=t(window).height())return 0;var e,i,n=document.createElement("div"),o=document.createElement("div");return n.style.visibility="hidden",n.style.width="100px",document.body.appendChild(n),e=n.offsetWidth,n.style.overflow="scroll",o.style.width="100%",n.appendChild(o),i=o.offsetWidth,n.parentNode.removeChild(n),e-i}function o(){if(!b){var e,i,o=t("html"),a=c("is-locked");o.hasClass(a)||(i=t(document.body),e=parseInt(i.css("padding-right"),10)+n(),i.css("padding-right",e+"px"),o.addClass(a))}}function a(){if(!b){var e,i,o=t("html"),a=c("is-locked");o.hasClass(a)&&(i=t(document.body),e=parseInt(i.css("padding-right"),10)-n(),i.css("padding-right",e+"px"),o.removeClass(a))}}function r(e,t,i,n){var o=c("is",t),a=[c("is",_.CLOSING),c("is",_.OPENING),c("is",_.CLOSED),c("is",_.OPENED)].join(" ");e.$bg.removeClass(a).addClass(o),e.$overlay.removeClass(a).addClass(o),e.$wrapper.removeClass(a).addClass(o),e.$modal.removeClass(a).addClass(o),e.state=t,!i&&e.$modal.trigger({type:t,reason:n},[{reason:n}])}function s(e,n,o){var a=0,r=function(e){e.target===this&&a++},s=function(e){e.target===this&&0===--a&&(t.each(["$bg","$overlay","$wrapper","$modal"],function(e,t){o[t].off(v+" "+$)}),n())};t.each(["$bg","$overlay","$wrapper","$modal"],function(e,t){o[t].on(v,r).on($,s)}),e(),0===i(o.$bg)&&0===i(o.$overlay)&&0===i(o.$wrapper)&&0===i(o.$modal)&&(t.each(["$bg","$overlay","$wrapper","$modal"],function(e,t){o[t].off(v+" "+$)}),n())}function l(e){e.state!==_.CLOSED&&(t.each(["$bg","$overlay","$wrapper","$modal"],function(t,i){e[i].off(v+" "+$)}),e.$bg.removeClass(e.settings.modifier),e.$overlay.removeClass(e.settings.modifier).hide(),e.$wrapper.hide(),a(),r(e,_.CLOSED,!0))}function d(e){var t,i,n,o,a={};for(e=e.replace(/\s*:\s*/g,":").replace(/\s*,\s*/g,","),t=e.split(","),o=0,i=t.length;o<i;o++)t[o]=t[o].split(":"),n=t[o][1],("string"==typeof n||n instanceof String)&&(n="true"===n||"false"!==n&&n),("string"==typeof n||n instanceof String)&&(n=isNaN(n)?n:+n),a[t[o][0]]=n;return a}function c(){for(var e=m,t=0;t<arguments.length;++t)e+="-"+arguments[t];return e}function u(){var e,i,n=location.hash.replace("#","");if(n){try{i=t('[data-remodal-id="'+n+'"]')}catch(e){}i&&i.length&&(e=t[g].lookup[i.data(g)],e&&e.settings.hashTracking&&e.open())}else h&&h.state===_.OPENED&&h.settings.hashTracking&&h.close()}function p(e,i){var n=t(document.body),o=n,a=this;a.settings=t.extend({},w,i),a.index=t[g].lookup.push(a)-1,a.state=_.CLOSED,a.$overlay=t("."+c("overlay")),null!==a.settings.appendTo&&a.settings.appendTo.length&&(o=t(a.settings.appendTo)),a.$overlay.length||(a.$overlay=t("<div>").addClass(c("overlay")+" "+c("is",_.CLOSED)).hide(),o.append(a.$overlay)),a.$bg=t("."+c("bg")).addClass(c("is",_.CLOSED)),a.$modal=e.addClass(m+" "+c("is-initialized")+" "+a.settings.modifier+" "+c("is",_.CLOSED)).attr("tabindex","-1"),a.$wrapper=t("<div>").addClass(c("wrapper")+" "+a.settings.modifier+" "+c("is",_.CLOSED)).hide().append(a.$modal),o.append(a.$wrapper),a.$wrapper.on("click."+m,'[data-remodal-action="close"]',function(e){e.preventDefault(),a.close()}),a.$wrapper.on("click."+m,'[data-remodal-action="cancel"]',function(e){e.preventDefault(),a.$modal.trigger(C.CANCELLATION),a.settings.closeOnCancel&&a.close(C.CANCELLATION)}),a.$wrapper.on("click."+m,'[data-remodal-action="confirm"]',function(e){e.preventDefault(),a.$modal.trigger(C.CONFIRMATION),a.settings.closeOnConfirm&&a.close(C.CONFIRMATION)}),a.$wrapper.on("click."+m,function(e){t(e.target).hasClass(c("wrapper"))&&a.settings.closeOnOutsideClick&&a.close()})}var h,f,g="remodal",m=e.REMODAL_GLOBALS&&e.REMODAL_GLOBALS.NAMESPACE||g,v=t.map(["animationstart","webkitAnimationStart","MSAnimationStart","oAnimationStart"],function(e){return e+"."+m}).join(" "),$=t.map(["animationend","webkitAnimationEnd","MSAnimationEnd","oAnimationEnd"],function(e){return e+"."+m}).join(" "),w=t.extend({hashTracking:!0,closeOnConfirm:!0,closeOnCancel:!0,closeOnEscape:!0,closeOnOutsideClick:!0,modifier:"",appendTo:null},e.REMODAL_GLOBALS&&e.REMODAL_GLOBALS.DEFAULTS),_={CLOSING:"closing",CLOSED:"closed",OPENING:"opening",OPENED:"opened"},C={CONFIRMATION:"confirmation",CANCELLATION:"cancellation"},y=function(){var e=document.createElement("div").style;return void 0!==e.animationName||void 0!==e.WebkitAnimationName||void 0!==e.MozAnimationName||void 0!==e.msAnimationName||void 0!==e.OAnimationName}(),b=/iPad|iPhone|iPod/.test(navigator.platform);p.prototype.open=function(){var e,i=this;i.state!==_.OPENING&&i.state!==_.CLOSING&&(e=i.$modal.attr("data-remodal-id"),e&&i.settings.hashTracking&&(f=t(window).scrollTop(),location.hash=e),h&&h!==i&&l(h),h=i,o(),i.$bg.addClass(i.settings.modifier),i.$overlay.addClass(i.settings.modifier).show(),i.$wrapper.show().scrollTop(0),i.$modal.focus(),s(function(){r(i,_.OPENING)},function(){r(i,_.OPENED)},i))},p.prototype.close=function(e){var i=this;i.state!==_.OPENING&&i.state!==_.CLOSING&&(i.settings.hashTracking&&i.$modal.attr("data-remodal-id")===location.hash.substr(1)&&(location.hash="",t(window).scrollTop(f)),s(function(){r(i,_.CLOSING,!1,e)},function(){i.$bg.removeClass(i.settings.modifier),i.$overlay.removeClass(i.settings.modifier).hide(),i.$wrapper.hide(),a(),r(i,_.CLOSED,!1,e)},i))},p.prototype.getState=function(){return this.state},p.prototype.destroy=function(){var e,i=t[g].lookup;l(this),this.$wrapper.remove(),delete i[this.index],e=t.grep(i,function(e){return!!e}).length,0===e&&(this.$overlay.remove(),this.$bg.removeClass(c("is",_.CLOSING)+" "+c("is",_.OPENING)+" "+c("is",_.CLOSED)+" "+c("is",_.OPENED)))},t[g]={lookup:[]},t.fn[g]=function(e){var i,n;return this.each(function(o,a){n=t(a),null==n.data(g)?(i=new p(n,e),n.data(g,i.index),i.settings.hashTracking&&n.attr("data-remodal-id")===location.hash.substr(1)&&i.open()):i=t[g].lookup[n.data(g)]}),i},t(document).ready(function(){t(document).on("click","[data-remodal-target]",function(e){e.preventDefault();var i=e.currentTarget,n=i.getAttribute("data-remodal-target"),o=t('[data-remodal-id="'+n+'"]');t[g].lookup[o.data(g)].open()}),t(document).find("."+m).each(function(e,i){var n=t(i),o=n.data("remodal-options");o?("string"==typeof o||o instanceof String)&&(o=d(o)):o={},n[g](o)}),t(document).on("keydown."+m,function(e){h&&h.settings.closeOnEscape&&h.state===_.OPENED&&27===e.keyCode&&h.close()}),t(window).on("hashchange."+m,u)})}),$(function(){var e=$(".schedule-groups-filter__form"),t=$(".schedule-group-form");$(t).on("change",'input[name="children"]',function(e){var i=$(this);$(i).val()>0?$(t).find("[data-childage]").fadeIn(128):$(t).find("[data-childage]").fadeOut(128)}),1==e.length&&($(".schedule-groups-filter__form select").niceSelect(),sendScheduleSearch(),$('.schedule-groups-filter__form select[name="vehicle"]').change(function(e){var t=$(this),i=parseInt(t.val());$(".schedule-groups-filter__form-group[data-vehicle]").hide(),$(".schedule-groups-filter__form-group[data-vehicle] select").attr("disabled",!0),$('.schedule-groups-filter__form-group[data-vehicle="'+i+'"]').show(),$('.schedule-groups-filter__form-group[data-vehicle="'+i+'"] select').removeAttr("disabled"),$('.schedule-groups-filter__form-group[data-vehicle="'+i+'"] select').niceSelect("update")}),$(".schedule-groups-filter__form select").change(function(e){sendScheduleSearch()}))}),$(function(){$(document).on("click",".spinner__increase",function(e){console.log("increase");var t=$(this),i=$(t).parent(),n=(parseInt($(i).attr("data-min")),parseInt($(i).attr("data-max"))),o=$(i).find("input"),a=parseInt($(o).val()),r=parseInt($(i).attr("data-one")),s=1,l=a+r*s;l<=n&&($(o).val(l),$(o).change())}),$(document).on("click",".spinner__decrease",function(e){console.log("decrease");var t=$(this),i=$(t).parent(),n=parseInt($(i).attr("data-min")),o=(parseInt($(i).attr("data-max")),$(i).find("input")),a=parseInt($(o).val()),r=parseInt($(i).attr("data-one")),s=-1,l=a+r*s;l>=n&&($(o).val(l),$(o).change())})}),$(function(){var e=$('[data-spoiler="wrapper"]');$(e).each(function(e,t){var i=$(t),n=$(i).find('[data-spoiler="toggler"]'),o=$(i).find('[data-spoiler="content"]'),a=$(n).attr("data-class"),r=$(o).attr("data-class");$(n).on("click",function(e){$(o).hasClass(r)?($(n).removeClass(a),$(o).removeClass(r)):($(n).addClass(a),$(o).addClass(r))})})}),$(function(){initTeamSameHeight(".team-item__inner"),$(window).resize(function(e){initTeamSameHeight(".team-item__inner")})}),$(function(){var e=$(".testing-form");$(e).on("change",'input[name="children"]',function(t){var i=$(this);$(i).val()>0?$(e).find("[data-childage]").fadeIn(128):$(e).find("[data-childage]").fadeOut(128)}),1==e.length&&$(e).find("select").niceSelect()});